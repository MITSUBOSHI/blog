<!doctype html><html lang=ja><head><title>クリスマスの12日間 - mitsubosh's blog</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel=stylesheet><link rel=stylesheet href=https://mitsuboshi.github.io/blog/css/bootstrap.css><link rel=stylesheet href=https://mitsuboshi.github.io/blog/css/custom.css></head><body><main id=main><div class=container><div class="row justify-content-center text-center my-5"><div class=col-lg-10><a href=https://mitsuboshi.github.io/blog/categories/ja/ class="d-inline-block link-cta mb-4 text-uppercase">ja</a><h1 class="mb-4 text-center">クリスマスの12日間</h1><p class="small mb-5 text-center"><span class=text-uppercase>May 25, 2024</span></p></div></div></div><div class="bg-skew bg-skew-light"><div class=container><div class="row justify-content-center"><div class=col-lg-8><article class=pb-2><p>GW期間中に暇を見つけてGitHub Pagesに新たにtoy siteを公開しました。<br>昨年のクリスマスシーズンに子どもたちと一緒に『<a href=https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%9E%E3%82%B9%E3%81%AE12%E6%97%A5%E9%96%93>クリスマスの12日間</a>』の歌や絵本を楽しみました。<br>ただ私は歌詞を覚えるのがすこぶる苦手であり、次のシーズンまで覚えてられる気がしないので簡単なクイズ要素を含むものにしました。<br>　　<br><a href=https://mitsuboshi.github.io/12days-of-xmas/>https://mitsuboshi.github.io/12days-of-xmas/</a><br>　　<br>技術的に面白みのある工夫は特にありません。<br>ビルドツールにViteを使ったのですが、唯一後述の点がハマりどころでした。</p><p>▼公式docsからの引用 <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><pre tabindex=0><code>&gt; GitHub Pages
&gt; 1. vite.config.js で base を正しく設定してください。
</code></pre><p>　<br>カスタムドメインとそれ以外で <code>base</code> に設定すべき値も異なります。<br>開発時のローカル環境とGitHub Pagesで設定値を分ける必要があったため、最終的にはbuild時に環境変数 &ldquo;GITHUB_PAGES&rdquo; を渡して動的設定をするようにしました。<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js:vite.config.ts data-lang=js:vite.config.ts><span style=display:flex><span>  <span style=color:#a6e22e>base</span>: <span style=color:#66d9ef>process.env.GITHUB_PAGES</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;/12days-of-xmas/&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/&#34;</span>,
</span></span></code></pre></div><p>公式docsにGitHub Pagesに関する記載があるのは大変助かりました。</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://ja.vitejs.dev/guide/static-deploy#github-pages>https://ja.vitejs.dev/guide/static-deploy#github-pages</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://github.com/MITSUBOSHI/12days-of-xmas/blob/e328966b4b0f8b641e658900cd04b5fc5f88e270/vite.config.ts#L7-L9>https://github.com/MITSUBOSHI/12days-of-xmas/blob/e328966b4b0f8b641e658900cd04b5fc5f88e270/vite.config.ts#L7-L9</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><p class="mt-5 text-center"><span class=text-secondary>Tagged: </span><a href=https://mitsuboshi.github.io/blog/tags/js/ class="link-tag text-dark">#js</a>
<a href=https://mitsuboshi.github.io/blog/tags/tech/ class="link-tag text-dark">#tech</a></p></article><div class="row pt-5 pb-5"><div class="col-6 text-left"><a class=text-reset href=https://mitsuboshi.github.io/blog/memory/looking-back-2023/>&larr; 2023年の振り返り</a></div><div class="col-6 text-right"><a class=text-reset href=https://mitsuboshi.github.io/blog/memory/baystars-drill/>ベイスターズドリルを作った &rarr;</a></div></div></div></div></div></div></main><footer class="site-footer mt-5"><div class=container><div class="row justify-content-md-between"><div class="col-sm-12 col-md-4 mb-4"><h2 class="h5 mb-3">mitsubosh's blog</h2><p></p></div><div class="col-4 col-md-2 mb-4"><h2 class="h5 mb-3">Menu</h2><ul class="nav flex-column"><li class=mb-1><a href=https://mitsuboshi.github.io/blog/ class=text-secondary>Home</a></li></ul></div></div><hr><div class="d-flex flex-column flex-sm-row justify-content-sm-between align-items-center"><div class="text-muted mb-3">© 2020 MITSUBOSHI Yuya
<a href=https://10mohi6.tk class=text-reset>design</a> <a href=https://github.com/10mohi6/hugo-theme-simple-blog class=text-reset>theme</a></p></div></div></div></footer></body></html>