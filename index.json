[{"authors":null,"categories":["ja"],"content":"横浜DeNAベイスターズ、日本一おめでとうございます！\n最高の出だしから2024年を振り返ります。\n生活 第一子(娘)が4歳、第二子(息子)が2歳になりました。\n4月からの進級で、娘はついに年少の区分に入ることに。\n一般的に幼稚園では入園式があるため「子の成長」をより実感できるらしいが、我が家は保育園のままなのでヌルっと進級しました。\nただ珍しい出来事があり、保育園の体制変更で直近退職された先生の多くが戻ってきました。\n0歳児クラスのときからお世話になっていた先生も出戻ったため、我が子も嬉しそうでした。\nまた娘は年少になってから毎週土曜日にヤマハ音楽教室に通うようになりました。\nたまに集中力が持たずに不良みたいな態度で参加することもありますが、家でもワークを楽しんだり覚えたお歌を楽しく歌っています。\nただそれまでは土曜日は大人の隔週自由日(第n週: 妻 / 第n+1週: 自分)を設けていたが、\n習い事の始まりによってこの制度は廃止されました。\n代わりに事前調整付きで平日夜の呑みが可能になりました。\nまだまだ癇癪を起こすことが多いが、昨年よりは上手くぶつかりあえていると思います。\n息子は2歳前から発話量が増えました。\n娘の真似をすることが多くて、ディズニープリンセスを好むようになりました。ちなみに私はベルとオーロラ姫の区別がつきません。\n順調にイヤイヤ期に突入をしたことで、自分の意思をしっかりと示すようになりました。\n家で牛乳を飲まないことに頭を抱えていたら、保育士から「え、保育園では牛乳飲んでいますよ」と衝撃のひとことをもらった。\nまだまだ体調を崩しやすい面はあるが、昨年に比べたらだいぶ頻度も減ったのでこのまま健康に育ってほしい。\n一緒に楽しい思い出を重ねてはいるが、いつか忘却してしまうことを思うと「幼児期健忘、やめてくれー」という気持ちに駆られることもある。やむなし。\n今年は妻とバチバチに喧嘩をすることが多かった。\n家は戦場です。返事は「Yes, sir」しか許されません。\n妻なしではとてもじゃないが乗り切れないことが多かったです。お互いかなり無理をする場面があったが、無事に１年を終えられるのも妻のおかげです。心から感謝しています。\nあと、今年も家族全員で「ベイスターズ」を応援出来たのが良かった。\n娘と息子も選手の応援歌をたくさん歌えるようになったので、成長を感じます。\n仕事 今年の9月に転職をしました。\n元々転職は考えていなかったところに新卒時代の先輩から声をかけてもらい、（後略）。\n前職は約4年(3年11ヶ月)の在籍だったので、当然ながらポジティブな話もネガティブな話もあるが、現職から内定が出なかったらそのまま働くつもりだったのでポジ多めでした。今思い返しても育児のしやすさはダントツで大変有り難かったと感謝しています。これ以上の具体はここでは話さないので気になる方は個別に聞いてください。\n転職後は業務でRubyを書くことは無くなり、いまはTypeScript, Node.jsを書く生活になっています。\n正直、転職後1-2ヶ月はまったく余裕がありませんでした。\n最初は意識してやや飛ばし気味に目の前のサービス・業務に慣れるように\u0026#34;量\u0026#34;を追求しました。そのかいもあってか、分かることが増えて最近は見える・考えられる範囲も広がってきた感があります。立ち上がりが下手なりになんとか食らいつけたかとは思います。\n一方で、全社や中長期の視点で物事を考えられておらず、自分の目指す理想にはほど遠い状態なので次のモードに切り替えていかないといけません。そのためにも年末年始はしっかりとエネルギーをチャージしたいと思います（子どもの面倒を見つつなのでどこまで出来るのかというのはありつつも）。\nあとそろそろ真面目に自分の強みとする領域を定めないと巷で言うところの「AIに仕事を奪われる」が起きる不安があります。しっかりと共存をやっていきです。\nあと転職を機に長年の悪習慣だった「喫煙」をやめられたのは大きかったです。\n電子タバコに移行していたからか禁煙外来にかかることなくすんなりやめられました。転職は卒煙する良いきっかけになりました。\n総括 今年は特に濃い１年でした。昨年末時点では転職するなんて微塵も思っていなかったからな。\n育児と仕事の両立なんて幻想でした。どっちもしんどい。上手く回っているように見えても、どこかしらに歪みが生まれているので泥臭くやっていくしかないというのが現在の認識。\n来年はもっと充実した１年になるよう頑張ります。\nP.S. 現職は本当に良い環境なので、興味ある方いたら雑に声かけてください。\n","date":1735570830,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"4c8b7c1d222943f4bcb2ac57963030ad","permalink":"https://mitsuboshi.github.io/blog/post/looking-back-2024/","publishdate":"2024-12-31T00:00:30+09:00","relpermalink":"/blog/post/looking-back-2024/","section":"post","summary":"横浜DeNAベイスターズ、日本一おめでとうございます！\n最高の出だしから2024年を振り返ります。\n生活 第一子(娘)が4歳、第二子(息子)が2歳になりました。\n","tags":["looking-back"],"title":"2024年の振り返り","type":"post"},{"authors":null,"categories":["ja"],"content":"Next.jsの勉強を兼ねて、趣味を絡めて「ベイスターズドリル」なるtoy appを作りGitHub Pagesで公開しました。UI部分はChakra UIを使っています。\nhttps://mitsuboshi.github.io/baystars-drill/\n※勉強用でかなり雑に作っているので、出来はご容赦ください。\n現時点では次の２つの機能のみを実装しています。\n選手名鑑 … 年別の背番号・選手名の一覧が閲覧できます。 背番号ドリル … 背番号の足し算ドリルです。難易度や出題年を調整可能です。 技術的な工夫は特にないです。\n工夫が必要だったり面白かった点は以下です。\n背番号の保持の仕方\n整数値で表現しきれない背番号(例えば「00」)があるため、背番号を表示用(string)と算術用(number)でそれぞれ管理するようにしました。\n選手データの取得\n選手データは NPBのサイト 1 からスクレイピングで取得しました。\n選手個別にページがある。過去分の成績データも蓄積されている。などの特徴がありつつも、過去の背番号などの過去特定年におけるスナップショットデータを保持しておらず、どうしたものかと一瞬頭を抱えました。\n最終的には過去分はスクレイピング先をweb arhiveに変えて取得するようにして凌ぎました。\nまた余談ではありますが、1軍出場経験が無いまま退団された選手の個人ページは削除される運用らしくプロ野球の厳しさを覚えました。\nhttps://npb.jp/bis/players/51455137.html ↩︎\n","date":1730300400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"4220bbac36aa7bcf00454d7b1f25bb9d","permalink":"https://mitsuboshi.github.io/blog/post/baystars-drill/","publishdate":"2024-10-31T00:00:00+09:00","relpermalink":"/blog/post/baystars-drill/","section":"post","summary":"Next.jsの勉強を兼ねて、趣味を絡めて「ベイスターズドリル」なるtoy appを作りGitHub Pagesで公開しました。UI部分はChakra UIを使っています。\nhttps://mitsuboshi.github.io/baystars-drill/\n","tags":["js","tech"],"title":"ベイスターズドリルを作った","type":"post"},{"authors":null,"categories":["ja"],"content":"GW期間中に暇を見つけてGitHub Pagesに新たにtoy siteを公開しました。\n昨年のクリスマスシーズンに子どもたちと一緒に『クリスマスの12日間』の歌や絵本を楽しみました。\nただ私は歌詞を覚えるのがすこぶる苦手であり、次のシーズンまで覚えてられる気がしないので簡単なクイズ要素を含むものにしました。\nhttps://mitsuboshi.github.io/12days-of-xmas/\n技術的に面白みのある工夫は特にありません。\nビルドツールにViteを使ったのですが、唯一後述の点がハマりどころでした。\n▼公式docsからの引用 1\n\u0026gt; GitHub Pages \u0026gt; 1. vite.config.js で base を正しく設定してください。 カスタムドメインとそれ以外で base に設定すべき値も異なります。\n開発時のローカル環境とGitHub Pagesで設定値を分ける必要があったため、最終的にはbuild時に環境変数 “GITHUB_PAGES” を渡して動的設定をするようにしました。2\nbase: process.env.GITHUB_PAGES ? \u0026#34;/12days-of-xmas/\u0026#34; : \u0026#34;/\u0026#34;, 公式docsにGitHub Pagesに関する記載があるのは大変助かりました。\nhttps://ja.vitejs.dev/guide/static-deploy#github-pages ↩︎\nhttps://github.com/MITSUBOSHI/12days-of-xmas/blob/e328966b4b0f8b641e658900cd04b5fc5f88e270/vite.config.ts#L7-L9 ↩︎\n","date":1716566400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"af4de812ca433c19118596133221d290","permalink":"https://mitsuboshi.github.io/blog/post/12days-of-xmas/","publishdate":"2024-05-25T01:00:00+09:00","relpermalink":"/blog/post/12days-of-xmas/","section":"post","summary":"GW期間中に暇を見つけてGitHub Pagesに新たにtoy siteを公開しました。\n昨年のクリスマスシーズンに子どもたちと一緒に『クリスマスの12日間』の歌や絵本を楽しみました。\nただ私は歌詞を覚えるのがすこぶる苦手であり、次のシーズンまで覚えてられる気がしないので簡単なクイズ要素を含むものにしました。\nhttps://mitsuboshi.github.io/12days-of-xmas/\n","tags":["js","tech"],"title":"クリスマスの12日間","type":"post"},{"authors":null,"categories":["ja"],"content":"生活 第一子が3歳、第二子が1歳になった。\n第一子は大人を驚かせるほどの記憶力や観察力がある。\nトイ・ストーリーのキャラクターの名前もこの子に教わったものだ。\nしかし、まだまだ手がかかる。\nトイトレが始まり家でもトイレで用を足すようになったこともあり、 出かける前や就寝前に「行く」「行かない」の押し問答を毎回している。\n非常に繊細なため、通っている園の保育士の退職が続いたりしたときは情緒不安定な日が続いた。\nあと大谷翔平が大好きで、寝かしつけの際に大谷翔平データブックを直近3年分持って行っている。\n第二子は元気の一言に尽きる。\nこの時期の赤子の成長は本当に目を見張るものがある。\n年始には首がまだ座っていなかったが、いまや難なく立って歩く。\n断乳もスムーズで、幼児食を食べるようになった。\n夜泣きもほぼすることはなくなった。\n本当によく食べるし、よく寝る。\nただ、今年も病気に罹ることが多かった。\n妻は相変わらずすごい。\nフルタイムで復職、週に1-2回は物理出社している。\n子の就寝後に深夜まで仕事をしていることもあり、心配になる。\n自分の至らなさから怒られることが多いため、来年はあまり怒られないように努めたい。\n自分は軽い躁鬱な状態になっていることが多かった。\n会社の健康診断でコレステロール値の異常(脂質代謝異常)で消化器内科に通院することになった。\n喫煙量は昨年よりも増えた気がする。\n有給休暇の多くは例年と変わらず子どもの体調不良に使った。\nただ2-3度バッティングセンターに行けたことは精神面の回復に繋がったので良かった。\n睡眠時間を削れば、ある程度趣味の時間を取れると最近思い立った。\n喫煙以外にストレスを解消する術が無いと正直つらいので、支障が出るまで試してみるつもりだ。\n仕事 今年も子どもの体調不良で突発的に休むことが多かった。\nその一方で妻との分担の結果、子どもの寝かしつけは基本妻に任せることが出来るようになったため昨年よりは多く働けるようになった。\nただ「明日働けない可能性もある」という恐れから、区切り良いところまで働くことを繰り返していたら10-12月は思いの外子どもが体調不良にならなかった。\n良いことなのだが、オーバーペースで働く日が続いたため疲れた。\n良かったこと 前職同僚が同じチーム配属で入社されたこと 業務でRustを少し書く機会があったこと チーム内タスクはよくこなせたこと 悪かったこと 関心の輪が狭くなっていること 私生活によりキャパシティが無いこともあるが、狭めすぎていると思っている 精度にこだわり過ぎたこと 精度と速度は両立するという話もあるが、枝葉の細部までも気にしてしまう性分を割り切って振る舞うことが出来ていない 私生活から影響を受けた思考 例えば、「来週の水曜日にミーティングをセットする」のような近い将来の予定をマイナスに捉えている節がある 今日明日であれば子どもの予期症状の有無からある程度の勤務可能性を割り出して覚悟が決まるが、それ以降になると全く予想がつかないので及び腰になる。 また、自分が近い将来に予定を入れることも可能であれば避けたいと思ってしまうようになった。 総括 今年もなんとか生きたという安堵感で気持ちは満ちています。\n来年はもう少し活力を取り戻したいです。\n","date":1703948430,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"012d9700e8f71ae67c10b249301e94e4","permalink":"https://mitsuboshi.github.io/blog/post/looking-back-2023/","publishdate":"2023-12-31T00:00:30+09:00","relpermalink":"/blog/post/looking-back-2023/","section":"post","summary":"生活 第一子が3歳、第二子が1歳になった。\n第一子は大人を驚かせるほどの記憶力や観察力がある。\nトイ・ストーリーのキャラクターの名前もこの子に教わったものだ。\nしかし、まだまだ手がかかる。\nトイトレが始まり家でもトイレで用を足すようになったこともあり、 出かける前や就寝前に「行く」「行かない」の押し問答を毎回している。\n","tags":["looking-back"],"title":"2023年の振り返り","type":"post"},{"authors":null,"categories":["ja"],"content":"しばらく前に私用PCが壊れてしまい、妻のPCをスポットで借りて凌いでいたが限界を感じた。\n唯一まとまった時間が取れる年末のこのタイミングで思い切って自作PCを組み立てた。\n構成 種別 製品名 価格 CPU AMD Ryzen 7 7700X Box 46,480円 CPUクーラ PCCOOLER LGA1700 K4-WH 3,009円 PCケース MSI MAG FORGE 110R 5,444円 マザーボード ASUS TUF GAMING B650-PLUS WIFI 24,980円 メモリ ADATA AD5U560016G-DT-EC DDR5 16GBx2枚 15,918円 ストレージ SSD 2TB M.2 NVMe G-Storategy 14,580円 電源 COUGAR 80PLUS BRONZE CGR BA-750 7,600円 趣味で開発をする暇は育児でほぼ無いが、開発に困らない程度のスペックで構成を考えた。\n合計12万円未満だが、CPUグリスやUSBメモリなど細々したものを買ったらさらに1-2万円かかった。\nグラフィックボードに関してはゲーミング用途では使わないため、CPU内蔵GPUで乗り切る(困ったら買い足す)。\n詰まった(焦った)こと PCケースに付属品(ネジ等)が無かった 交換になったので、その間は組み立て途中のむき出しのマザーボードの始末に困った CPUの固定レバーが固い RyzenはIntelよりも固いという一般論は聞いたことがあるが、固かった CPUの向きも再度指差し確認しながら、力で解決した 片側ラッチのメモリスロットが固い 「メモリ歪まない？」と思うくらい力を入れないとはまらなかった 「DDR5対応だよね？」とマザーボードの説明書を何回も読み直した末に、力で解決した 持っていたキーボードが壊れていた 配線誤りやUSBケーブルの断線等を疑ったが、ただ持っていたキーボードが壊れていただけだった 取り急ぎamazonで手頃なキーボードを発注したがその間はBIOSの画面とにらめっこすることしかできなかった しかも宅配員が「宅配ボックスの使い方がわからないから再配達依頼してください」とのことで、受け取りまで時間を要した 結果としてこれだけで計2日間をロスした BIOSでCPUファンが認識されなかった ファンコネクタの場所が異なっていただけだった マザーボードの説明書には「CPU FAN」用のファンコネクタはココと書かれていたので、よく読まずにCPUクーラから一番近いコネクタに挿していたのが敗因 参考 YouTubeで様々な動画を見た（挙げきれない） OS 特に深い理由はないが、ArchLinuxにした。\n詰まった(焦った)こと 寝ぼけてUSBメモリ上に環境構築をしてしまった GUI環境構築も終わったが、動作が重い 「CPU使用率は全然低いのになんでだ？」と思ったらディスクI/Oが激重で、誤ったディスクにパーティション設定をしていたことが判明した 短時間で2回インストールをする羽目になった GUI環境がクラッシュする homeディレクトリ以下の.cacheディレクトリのパーミッションがrootになっていたため vimのキャッシュだけあったので設定時にroot権限で生まれてしまい、GUI環境でキャッシュに書き込みが出来ずに落ちていた 参考 https://wiki.archlinux.jp/index.php/%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%82%AC%E3%82%A4%E3%83%89 https://qiita.com/k0kubun/items/e60fae90c688ac960ab7 https://zenn.dev/ytjvdcm/articles/0efb9112468de3 最後に なんとか年末に終わらせることが出来た\n","date":1703871e3,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"90e54242ec35cfbda4901aee22166ee7","permalink":"https://mitsuboshi.github.io/blog/post/homebuilt-pc-2023/","publishdate":"2023-12-30T02:30:00+09:00","relpermalink":"/blog/post/homebuilt-pc-2023/","section":"post","summary":"しばらく前に私用PCが壊れてしまい、妻のPCをスポットで借りて凌いでいたが限界を感じた。\n唯一まとまった時間が取れる年末のこのタイミングで思い切って自作PCを組み立てた。\n","tags":["pc","homebuilt","ryzen"],"title":"自作PC: 2023","type":"post"},{"authors":null,"categories":["ja"],"content":"年始に育児の合間を縫ってRuby3.2で少しだけ遊んでみました。\n上の子が絵本『十二支のはじまり』を最近読んで、干支を認識し始めて来たので、それに関連したものを簡易的に作りました。\nhttps://mitsuboshi.github.io/eto/\n※iOS/Android端末のブラウザでは上手く動作しないです\n※2024-01に動くようになりました\ngem “etoji” https://github.com/MITSUBOSHI/etoji\n以下のように西暦から対象となる干支(十二支)のデータを取得するシンプルなgemです。\n(geto はget + 干支の造語)\nrequire \u0026#39;etoji\u0026#39; Etoji.geto(year: 2023) # =\u0026gt; #\u0026lt;data Etoji::Jyunishi::Animal # number=4, # emoji=\u0026#34;🐰\u0026#34;, # character=\u0026#34;卯\u0026#34;, # character_hiragana_kun=\u0026#34;う\u0026#34;, # character_hiragana_on=\u0026#34;ぼう\u0026#34;, # animal_name_ja=\u0026#34;兎\u0026#34;, # animal_name_ja_hiragana=\u0026#34;うさぎ\u0026#34;, # animal_name_en=\u0026#34;rabbit\u0026#34;\u0026gt; モダンなRubyを書いてみたく、Data クラス や パターンマッチを使ってみました。\nパターンマッチはずっと使いたいと思っていたんですが、中々使う機会が無かったの、無理やり使いました(が、今回のケースはcase-whenで十分なことに後で気づいた)。\nSteep(RBS)で型チェックを試してみました。\nData クラスのrbsファイルは公式にまだ存在しなかったり、case-inの記法を使うと『Syntax case_match is not supported in Steep』と Ruby::UnsupportedSyntax になったりとやや困りました。\ntypeprofでrbsファイルの雛形生成をして、untypedな型定義を修正していく体験は良かったです。\nsorbet(RBI)のShopify/tapiocaのようにRails application向けに良い感じなrbsファイルを吐き出せたり、\nディレクトリ構成に沿って型ファイルを吐き出せるようになるとより嬉しいです。\nRefs https://github.com/tbpgr/eto 既に似たgemが存在していたので、参考にさせてもらいました https://github.com/github/gemoji 干支(十干・十二支)のデータの管理の仕方は、このgemの db/emoji.json 参考にしました https://ja.wikipedia.org/wiki/干支 WebAssembly https://github.com/MITSUBOSHI/eto\n$ curl -L https://github.com/ruby/ruby.wasm/releases/latest/download/ruby-head-wasm32-unknown-wasi-full-js.tar.gz | tar xfvz - $ mv head-wasm32-unknown-wasi-full-js/usr/local/bin/ruby ruby.wasm $ wasi-vfs pack ruby.wasm --mapdir /usr::./head-wasm32-unknown-wasi-full-js/usr --mapdir /etoji::./etoji -o docs/etoji.wasm でetoji libraryを梱包してWASMを試すことが出来ました。\n(本当はbundler経由でgem “etoji\u0026#34;を利用したかったが、手を抜きました。後で試そうと思います。)\n最初公式repoのREADME等を読まずに何も考えず ruby-head-wasm32-unknown-wasi-full を利用していたため、ブラウザで必要な rb-js-abi-host が存在せず動かないなどお粗末なことをしました。\n(https://github.com/ruby/ruby.wasm/tree/main/ext が必須)\n「見た目は後で整えればいいだろう」「一旦、子どもに見せるか」と思って、iPhoneで動作しないことに気づき悲しくなりました。\nmacOS上のChrome/Safariでは問題なく動作はしていて、iOS * WebAssemblyで雑に調べるとメモリ関連で苦しんでいる記事をいくつか目にしたところで時間切れになったので、深追いしていません。\nいつか仕事でもバックエンドとフロントエンドを共通ロジック(同一ソース)でバリデーションをさせるなどの用途でWebAssemblyを使うなどしてみたい気持ちです。\nRefs https://zenn.dev/koduki/articles/3619f53e8c0575 https://github.com/kateinoigakukun/wasi-vfs/wiki/Getting-Started-with-CRuby https://github.com/ruby-syntax-tree/ruby-syntax-tree.github.io 追記(2024-01-06) iOS/Androidで動作しなかった原因はwasmファイルのfetchを無駄に繰り返し行っていた点だった。\n","date":1673357417,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"4b8e63dfec0afbd0ac10c42bb9c426df","permalink":"https://mitsuboshi.github.io/blog/post/etoji/","publishdate":"2023-01-10T22:30:17+09:00","relpermalink":"/blog/post/etoji/","section":"post","summary":"年始に育児の合間を縫ってRuby3.2で少しだけ遊んでみました。\n上の子が絵本『十二支のはじまり』を最近読んで、干支を認識し始めて来たので、それに関連したものを簡易的に作りました。\nhttps://mitsuboshi.github.io/eto/\n","tags":["ruby","wasm","tech"],"title":"RubyのWebAssemblyを試してみた","type":"post"},{"authors":null,"categories":["ja"],"content":"生活 今年の9月に第二子が産まれ、家庭内がより賑やかになりました。\n第一子と第二子が同時に泣くなど日々同時多発的にトラブルが発生します。\nまず何から対処すべきかの初動判断は非常に難しく、日々親力を試されています。\n妻か僕のどちらかが一時的にでも欠けたら家庭内が回らなくなるほど逼迫した生活で、我が家は戦場と化しています。\n今年は家族全員(第二子産まれる前)が新型コロナウイルスに罹ったり、自分がぎっくり腰になったりと色んなアクシデントを経て、なんとか新年を迎えられそうなことにほっと胸を撫で下ろしています。\n第一子 2歳になりました。\n今年1月に独り歩きが出来るようになったばかりなのに、いまや家の中を走り回るほどにまで成長しました。\n言葉もどんどん覚え、コミュニケーションだけでなくカンバセーションが出来ることに感動を覚えています。\n一方で、最近まで防寒着を着たがらないなど、「いやだ」「いまじゃない」と自己主張をはっきりするようになりました。\n成長に伴う反応ではありますが、親としては頭を抱えたくなる行動を取ることが増えました。\n体調面では昨年よりも保育園を休むことが増えました。\n手足口病や新型コロナウイルスに罹ったり大変でした。\n第二子が産まれたことへの戸惑いから、一時期衝動的な行動が増えたものの、いまは一緒に第二子の面倒を見てくれて頼りになります。\nあと、自分が作った料理を笑顔いっぱいに食べてくれるのが癒やしです。\n第二子 生後2ヶ月を過ぎた頃から体調を崩すことが増え、心配が尽きないです。\n尿路感染症に罹り約1週間入院したのですが、このご時世で面会は不可。子と離れることの辛さを覚えました。\n第一子と比べると体重の増え方がよく、抱っこをする度に成長を感じられます。\n最近は起きているときに目をキョロキョロさせたり、笑みを見せてくれたりと反応が増えてきました。\nいまはどこに行くにも抱っこ紐 + 短時間と制約がありますが、第一子と一緒に公園で遊びべるようになる日が来るのが待ち遠しいです。\n妻 本当に頭が下がります。\n家庭内ヒエラルキーの頂点で、頼れる存在です。\n妻が第二子出産で入院中の約1週間は第一子と自分の二人生活だったのですが、所々記憶が無いくらい激動の日々でした。\nいくら第一子が父親に懐いているとはいえ大好きな母親無しの生活は耐え難く、二人生活初日の夜は約2時間涙が枯れるまで「おかあさん」と泣き叫んでいました。\n産後退院するまでの間は毎日テレビ電話で通話をし、第一子のことも最大限気にかけてくれました。\n子にとって母親の存在は絶対的なものであることを痛感しました。\nこの経験は家事・育児の分担を考える上でも活きています。\n育児においては代替困難な役割・存在があり、極端な例だと一方が家事100%、他方が育児100%では駄目で、母親も父親も一定の時間を育児に割く必要がある。また、特定の育児における関与者(母父)の選択権を子に委ねるのが望ましい。それを加味した分担に極力しています。\nその実現が出来ているのも妻のおかげです。\n来年は妻を怒らせることが減るよう精進します…\n自分 30分以上のまとまった自由な時間を持つことが難しく、余暇でコードを書いたり、技術書を読んだりすることが出来ていないです。\nせめてもの足掻きとして、仕事の関心事や空き時間に仕入れた情報を、家事・育児の最中に「こういうことか」「あー、ちがうな」と頭のなかで反芻しています。\nたまに脳内で考えていたことがそのまま声に出てていることもあり、家族をびっくりさせることもあります。\nオンライン配信がある or アーカイブ動画を残してくれる技術イベントは本当に有り難く、育児の際にBGMとして聴いていたりします。\nこの1年で(電子)タバコの喫煙量は増えました。\n家の中で出来る適したストレス解消方法は見つける事ができず、「バッティングセンターに行きたい」と日々思っています。\n一時は体重は自己新を更新し完全な肥満体になったものの、いまは減量傾向にあります(ピーク時の-10kg)。\n運動習慣も無くなり、子どもが起きているうちは夕飯を食べるタイミングが無く、完食後に即就寝のような生活を続けていたのが体重増加の主原因(と思っている)だったため、思い切って夕飯を食べない一日2食生活にしました。\n仕事 7月にチーム異動をして、これまでとは異なるドメインに向き合っています。\n最近はなんとか戦力にはなれている気がしています。\n有り難いことにチームメンバに理解いただき、下記のような働き方をしています。\n06:00 第一子起床(起こされる) 07:00 朝食作り + ゴミ出し + 保育園準備 08:30 保育園の送り業 09:30 帰宅 (お風呂掃除等の雑務) 10:00 勤務開始 13:00 昼休憩 (洗濯物畳んだり等の雑務) 14:00 仕事再開 17:30 休憩 (妻が第一子を迎えに行く間、第二子の育児) 18:30 仕事再開 19:30 休憩 (一方が第一子の風呂入れ + 寝かしつけ、他方が第二子の育児) 21:00 仕事再開 22:00 勤務終了 23:30 就寝 第一子が保育園に行っている間にいかに集中して仕事に取り組めるかが肝になっています。\n勤務時間に限りがあるため、気が済むまでコードを読み解いていったり、気分転換にタスク外のコードを書いたりといった仕事の中での遊び(自由な時間)がほぼ無いことはやや諦めています。\nあとは仕事をやりかけで翌日に持ち越さず、なるべくやりきる or 引き継ぎ可能な状態にして退勤をするよう心がけるようになりました。\n例えば、今日はあまり集中出来ないから明日の自分に任せて退勤、のような行動をしなくなりました。\n理由としては、保育園で新型コロナ感染者が出た関係で登園出来なくなることが何度もあったり、子どもが体調を崩したりと、今年は特に突発的に休むことが多かったことがあり、チームへの迷惑最小化の策です。\n子どもがいると翌日勤務できる確証が無いです。保育園登園に成功したとしても、その後発熱してお迎え要請の連絡が来ることもあります。\n現職は年間休日145日と休みが潤沢で、とても助かっています。\n(年間付与の有給休暇だけだと子どもの体調不良で消化しきってしまうため)\n来年も引き続き、働けるときに精一杯働くスタンスで乗り切ろうと思います。\n総括 今年も様々な変化がありました。\n一番は第二子が増えたことです。\nそれにより一気に人生のゲームレベルが引き上がったな、と感じます。\nただ最近はようやく手の抜きどころがわかってきた気がしています。\nそれでも大変ですが。\n日々育児によって疲弊をし、育児によってパワーを得ているといった感じです。\n来年もがんばります。\nP.S. 色んな方と断交気味になっていますが、調整すればリモート飲みなど出来るので良ければお誘いください\n","date":1672413630,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"dde308cca0e684619c1595357e759052","permalink":"https://mitsuboshi.github.io/blog/post/looking-back-2022/","publishdate":"2022-12-31T00:20:30+09:00","relpermalink":"/blog/post/looking-back-2022/","section":"post","summary":"生活 今年の9月に第二子が産まれ、家庭内がより賑やかになりました。\n第一子と第二子が同時に泣くなど日々同時多発的にトラブルが発生します。\nまず何から対処すべきかの初動判断は非常に難しく、日々親力を試されています。\n妻か僕のどちらかが一時的にでも欠けたら家庭内が回らなくなるほど逼迫した生活で、我が家は戦場と化しています。\n今年は家族全員(第二子産まれる前)が新型コロナウイルスに罹ったり、自分がぎっくり腰になったりと色んなアクシデントを経て、なんとか新年を迎えられそうなことにほっと胸を撫で下ろしています。\n第一子 2歳になりました。\n今年1月に独り歩きが出来るようになったばかりなのに、いまや家の中を走り回るほどにまで成長しました。\n言葉もどんどん覚え、コミュニケーションだけでなくカンバセーションが出来ることに感動を覚えています。\n一方で、最近まで防寒着を着たがらないなど、「いやだ」「いまじゃない」と自己主張をはっきりするようになりました。\n成長に伴う反応ではありますが、親としては頭を抱えたくなる行動を取ることが増えました。\n体調面では昨年よりも保育園を休むことが増えました。\n手足口病や新型コロナウイルスに罹ったり大変でした。\n第二子が産まれたことへの戸惑いから、一時期衝動的な行動が増えたものの、いまは一緒に第二子の面倒を見てくれて頼りになります。\nあと、自分が作った料理を笑顔いっぱいに食べてくれるのが癒やしです。\n第二子 生後2ヶ月を過ぎた頃から体調を崩すことが増え、心配が尽きないです。\n尿路感染症に罹り約1週間入院したのですが、このご時世で面会は不可。子と離れることの辛さを覚えました。\n第一子と比べると体重の増え方がよく、抱っこをする度に成長を感じられます。\n最近は起きているときに目をキョロキョロさせたり、笑みを見せてくれたりと反応が増えてきました。\nいまはどこに行くにも抱っこ紐 + 短時間と制約がありますが、第一子と一緒に公園で遊びべるようになる日が来るのが待ち遠しいです。\n妻 本当に頭が下がります。\n家庭内ヒエラルキーの頂点で、頼れる存在です。\n妻が第二子出産で入院中の約1週間は第一子と自分の二人生活だったのですが、所々記憶が無いくらい激動の日々でした。\nいくら第一子が父親に懐いているとはいえ大好きな母親無しの生活は耐え難く、二人生活初日の夜は約2時間涙が枯れるまで「おかあさん」と泣き叫んでいました。\n産後退院するまでの間は毎日テレビ電話で通話をし、第一子のことも最大限気にかけてくれました。\n子にとって母親の存在は絶対的なものであることを痛感しました。\nこの経験は家事・育児の分担を考える上でも活きています。\n育児においては代替困難な役割・存在があり、極端な例だと一方が家事100%、他方が育児100%では駄目で、母親も父親も一定の時間を育児に割く必要がある。また、特定の育児における関与者(母父)の選択権を子に委ねるのが望ましい。それを加味した分担に極力しています。\nその実現が出来ているのも妻のおかげです。\n来年は妻を怒らせることが減るよう精進します…\n自分 30分以上のまとまった自由な時間を持つことが難しく、余暇でコードを書いたり、技術書を読んだりすることが出来ていないです。\nせめてもの足掻きとして、仕事の関心事や空き時間に仕入れた情報を、家事・育児の最中に「こういうことか」「あー、ちがうな」と頭のなかで反芻しています。\nたまに脳内で考えていたことがそのまま声に出てていることもあり、家族をびっくりさせることもあります。\nオンライン配信がある or アーカイブ動画を残してくれる技術イベントは本当に有り難く、育児の際にBGMとして聴いていたりします。\nこの1年で(電子)タバコの喫煙量は増えました。\n家の中で出来る適したストレス解消方法は見つける事ができず、「バッティングセンターに行きたい」と日々思っています。\n一時は体重は自己新を更新し完全な肥満体になったものの、いまは減量傾向にあります(ピーク時の-10kg)。\n運動習慣も無くなり、子どもが起きているうちは夕飯を食べるタイミングが無く、完食後に即就寝のような生活を続けていたのが体重増加の主原因(と思っている)だったため、思い切って夕飯を食べない一日2食生活にしました。\n仕事 7月にチーム異動をして、これまでとは異なるドメインに向き合っています。\n最近はなんとか戦力にはなれている気がしています。\n有り難いことにチームメンバに理解いただき、下記のような働き方をしています。\n06:00 第一子起床(起こされる) 07:00 朝食作り + ゴミ出し + 保育園準備 08:30 保育園の送り業 09:30 帰宅 (お風呂掃除等の雑務) 10:00 勤務開始 13:00 昼休憩 (洗濯物畳んだり等の雑務) 14:00 仕事再開 17:30 休憩 (妻が第一子を迎えに行く間、第二子の育児) 18:30 仕事再開 19:30 休憩 (一方が第一子の風呂入れ + 寝かしつけ、他方が第二子の育児) 21:00 仕事再開 22:00 勤務終了 23:30 就寝 第一子が保育園に行っている間にいかに集中して仕事に取り組めるかが肝になっています。\n勤務時間に限りがあるため、気が済むまでコードを読み解いていったり、気分転換にタスク外のコードを書いたりといった仕事の中での遊び(自由な時間)がほぼ無いことはやや諦めています。\nあとは仕事をやりかけで翌日に持ち越さず、なるべくやりきる or 引き継ぎ可能な状態にして退勤をするよう心がけるようになりました。\n例えば、今日はあまり集中出来ないから明日の自分に任せて退勤、のような行動をしなくなりました。\n理由としては、保育園で新型コロナ感染者が出た関係で登園出来なくなることが何度もあったり、子どもが体調を崩したりと、今年は特に突発的に休むことが多かったことがあり、チームへの迷惑最小化の策です。\n子どもがいると翌日勤務できる確証が無いです。保育園登園に成功したとしても、その後発熱してお迎え要請の連絡が来ることもあります。\n","tags":["looking-back"],"title":"2022年の振り返り","type":"post"},{"authors":null,"categories":["ja"],"content":"生活 第1子が誕生しました。\n3月末に妻の妊娠が発覚してから11月の出産(予定日よりも2週間早い)まで気の抜けない日々が続きました。\n子が妻のお腹の中にいる間は「問題がない」ことが目に見えてわからないというのが不安症な人間には辛かったです。\nまあ産後は産後で子の月齢が1ヶ月を迎えるまでは慣れず、安心できずでした。\n育児・家事も夫婦間で話し合ってうまく分担していたのですが、\n一番の悩みの種は睡眠時間の確保でした。\n最近は子どもの日常にもリズムが生まれ、20時就寝 ~ 6時起床のcron jobが設定されたようです。\nそれに合わせて、私は大体22時から23時の間に就寝、６時に起床してから8時半までの間は子の世話をする(妻の睡眠確保時間)といった生活を送るようになりました。\n育児当初の両親ともに睡眠不足になっていた頃と比べて、互いの睡眠時間をなるべく確保できるようになったのは良かったです。\nもちろん今でも夜泣きで私も起きることはあります。\n言わずもがなですが、我が子はとってもかわいいものです。\n仕事 2月から8月までの時期は気持ちが乗らずに仕事していた気がします。\n気持ちが乗らなかったからと言っても、パフォーマンスは出していた(出すように努めた)と思います。\n所属チームにおいての自分の在り方や振る舞いについて完全に迷子になっていました。\nそれからなんやかんやあり、心療内科で『うつ状態』と診断されて、2週間休職をしました。\n原因は特定の何かによるものではなく、複数(内的・外的含め) + これまでの蓄積によるものなんだろうな、と思っています。\n休職中も明けも色々考えた結果、10月に転職しました。\nまだ入社3ヶ月目ですが、なんとか食らいついて戦力になれている気がしています。\n来年も引き続き頑張ります。\n副業 前職で一緒だった方からのお声がけでやっていました(現在は育児で時間取れず戦線離脱しています)。\n「またいつか一緒に仕事をしたい」と思っていった方からのお話だったので、すごく嬉しかったのを覚えています。\nサーバーサイドとしてRailsでGraphQLサーバーの実装対応をしていました。\n総括 振り返ると、今年は生活面で大きな変化があった年でした。\n2020年のはじめの頃は「アウトプット量増やすぞ」、「新しい技術にチャレンジするぞ」などの決意を内々にした気がしますが、\nどれも未達でした。\n直近の12月のみ仕事面でも生活面でもやや気持ち的に余裕持てていた気がするので、来年も現スタイルを崩さずに精進していこうと思います。\n","date":1609398870,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"afef1d592cffde05a6698e2165ccbdb0","permalink":"https://mitsuboshi.github.io/blog/post/looking-back-2020/","publishdate":"2020-12-31T16:14:30+09:00","relpermalink":"/blog/post/looking-back-2020/","section":"post","summary":"生活 第1子が誕生しました。\n3月末に妻の妊娠が発覚してから11月の出産(予定日よりも2週間早い)まで気の抜けない日々が続きました。\n子が妻のお腹の中にいる間は「問題がない」ことが目に見えてわからないというのが不安症な人間には辛かったです。\nまあ産後は産後で子の月齢が1ヶ月を迎えるまでは慣れず、安心できずでした。\n育児・家事も夫婦間で話し合ってうまく分担していたのですが、\n一番の悩みの種は睡眠時間の確保でした。\n最近は子どもの日常にもリズムが生まれ、20時就寝 ~ 6時起床のcron jobが設定されたようです。\nそれに合わせて、私は大体22時から23時の間に就寝、６時に起床してから8時半までの間は子の世話をする(妻の睡眠確保時間)といった生活を送るようになりました。\n育児当初の両親ともに睡眠不足になっていた頃と比べて、互いの睡眠時間をなるべく確保できるようになったのは良かったです。\nもちろん今でも夜泣きで私も起きることはあります。\n言わずもがなですが、我が子はとってもかわいいものです。\n仕事 2月から8月までの時期は気持ちが乗らずに仕事していた気がします。\n気持ちが乗らなかったからと言っても、パフォーマンスは出していた(出すように努めた)と思います。\n所属チームにおいての自分の在り方や振る舞いについて完全に迷子になっていました。\nそれからなんやかんやあり、心療内科で『うつ状態』と診断されて、2週間休職をしました。\n原因は特定の何かによるものではなく、複数(内的・外的含め) + これまでの蓄積によるものなんだろうな、と思っています。\n休職中も明けも色々考えた結果、10月に転職しました。\nまだ入社3ヶ月目ですが、なんとか食らいついて戦力になれている気がしています。\n来年も引き続き頑張ります。\n副業 前職で一緒だった方からのお声がけでやっていました(現在は育児で時間取れず戦線離脱しています)。\n「またいつか一緒に仕事をしたい」と思っていった方からのお話だったので、すごく嬉しかったのを覚えています。\nサーバーサイドとしてRailsでGraphQLサーバーの実装対応をしていました。\n総括 振り返ると、今年は生活面で大きな変化があった年でした。\n2020年のはじめの頃は「アウトプット量増やすぞ」、「新しい技術にチャレンジするぞ」などの決意を内々にした気がしますが、\nどれも未達でした。\n直近の12月のみ仕事面でも生活面でもやや気持ち的に余裕持てていた気がするので、来年も現スタイルを崩さずに精進していこうと思います。\n","tags":["looking-back"],"title":"2020年の振り返り","type":"post"},{"authors":null,"categories":["ja"],"content":"isucon10予選、おつかれさまでした。\nチーム名はコーヒーフロート。ひとりぼっちの初参加です。\n最高得点は718点で、最終得点は662点。\n感想 終了後に他の参加者のdiscord上での会話やブログを追って読むと、「そもそもそんなアプローチ閃かなかった！」と思えるものが多く、いかに自分が狭い範囲で戦っていたのかと悔しい気持ちになりました。\n一方で、いざというときにそのカードが切れのるかというのは日々の積み重ねだとも思っています。そういった意味だと、自分がいざというときに戦える範囲を認識できたのは良かったです。\nそもそも「他の人が行った有効なアプローチを自分も思いつけば出来たか」と自問するとそんなことは全くなく、「思いついたとしても出来なかった」ことが多いと思っています。しっかり復習していきます。\nisuumo、とても楽しかったです！\n運営の皆さん、ありがとうございました。\n時間毎の出来事 12:00 ~ レッドブルの蓋を開ける。 開始直後にportalサイトが502になる。 当日マニュアルが配布されていたのでそれを熟読。 portalサイトにアクセス出来るようになるがportal上からサーバーリストが閲覧出来ない。 マニュアルにチームIDごとのサーバー情報が記載されていたので、それを正としてlocalの ~/.ssh/config 設定。 ようやくサーバーに入る。 参考実装の切り替えをデフォのgo -\u0026gt; rubyに変更。 サーバーの構成と対象のappのコード眺めつつ、ブラウザでapp触る。 12:51にディレクトリ毎localに落として、initial commitをする。 今回rubyを選択したのもあり、rubyディレクトリだけ落としていた。 13:00 ~ 13:00ちょうどにnewrelicの設定をする。 https://github.com/tanaka-takayoshi/isucon9-final/commit/d7fca852a17fceb94511a7a2bea4847074549afc の参考実装に助けられました。 mysqld.confをlocalに落としてきて、設定変更・再起動。 query_cache系の変更。 slow_query系の変更。 long_query_time=0.01 にしてほぼ出力するようにした。 14:00 ~ unicornの設定をゴニョゴニョいじる。 unicorn起動しなくなり焦る。 systemdのserviceだったことを完全に忘れていた。 /etc/systemd/system/isuumo.ruby.service をlessで見て、心を落ち着かせる。 systemctlでサービスを起こす。 nginxの設定ファイル落としてきて、ファイルキャッシュ等の設定。 15:00 ~ 初回ベンチマーク回せるようになった。初回スコアが602。 mysqldumpslow でslowqueryを眺めたり、newrelicを眺めたり、nginx/access.log眺める。 各テーブルにINDEXを作成する。 app側のsqlを修正。 16:00 ~ nginxでbotアクセスを弾くようにする。 細かい修正ミスが目立つようになり焦る。 喫煙のため離席をする。 17:00 ~ explain でINDEX使われているか確認すると、全く使われていないことに気づく。 いや、そもそもpossible_keysに何も出ていない。 POST /initialize されると、データ再生成されるのは雑に把握していたけど、DROP DATABASE していることにようやく気づく。 mysql/db/0_Schema.sql にINDEX作成するステートメント書く。 18:00 ~ app側で出来る高速化が無いか色々試す。 newrelic上で重いエンドポイントを確認する。 GET /api/chair/search GET /api/estate/search POST /api/estate/nazotte nazotteの改善に挑戦するも時間内で解決策が見つかるとも思えず断念。 19:00 ~ search系なら行けるだろうと思って色々試す。 重いクエリをslow_query.logから引っ張り出し、FORCE INDEX 付けてexplainをしたりする。 良さそうな結果が得られたものはapp側で USE INDEX or FORCE INDEX 付けてみてベンチマークを回してみる。 深みにハマっていく。。。 20:00 ~ 自己最高の718点をマーク。 しかし、いろいろいじっていたらスコアが600台前半くらいまで落ちて泣きそうになる。 newrelicなどパフォーマンス計測用処理などをコード内から削除していく。 苦し紛れに最後回したら662点。 21:00 ~ 再起動出来ることの確認。 ","date":1600054350,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"eaa7cfa2d8539998a06772a67c1bd186","permalink":"https://mitsuboshi.github.io/blog/post/isucon10-qualify/","publishdate":"2020-09-14T12:32:30+09:00","relpermalink":"/blog/post/isucon10-qualify/","section":"post","summary":"isucon10予選、おつかれさまでした。\nチーム名はコーヒーフロート。ひとりぼっちの初参加です。\n最高得点は718点で、最終得点は662点。\n","tags":["tech","isucon"],"title":"Isucon10予選 振り返り","type":"post"},{"authors":null,"categories":["ja"],"content":"雑にブログを始めてみることにしました。\n技術書典9で『Hugo で始める静的サイト構築入門静的サイトジェネレーターで作る自作サイト』を買ったのがきっかけです。\n","date":1600005291,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1735657655,"objectID":"be3d5cf9cd6acbc273a36563933ffdd6","permalink":"https://mitsuboshi.github.io/blog/post/my-first-post/","publishdate":"2020-09-13T22:54:51+09:00","relpermalink":"/blog/post/my-first-post/","section":"post","summary":"雑にブログを始めてみることにしました。\n技術書典9で『Hugo で始める静的サイト構築入門静的サイトジェネレーターで作る自作サイト』を買ったのがきっかけです。\n","tags":[],"title":"My First Post","type":"post"}]